<!DOCTYPE html>
<html>
	<head>
		<title>Rock Paper Scissor</title>
	</head>
	<body>
		<p>Rock Paper Scissor Game</p>
		<button
			onclick="playGame('rock');
    "
		>
			Rock
		</button>
		<button
			onclick="playGame('paper');
      "
		>
			Paper
		</button>
		<button
			onclick="      
      playGame('scissor');
      "
		>
			Scissors
		</button>
		<button
			onclick="score.wins=0;score.losses=0;score.tie=0;
			localStorage.removeItem('score');
		"
		>
			Reset Score
		</button>

		<p><a href>Click here</a> for final version of project.</p>

		<script>
			let score = JSON.parse(localStorage.getItem("score")) || {
				wins: 0,
				losses: 0,
				tie: 0,
			};
			/*	if (!score) {
					score = {
						wins: 0,
						losses: 0,
						tie: 0,
					};
				}*/

			function playGame(playerMove) {
				let result = "";
				const computerMove = pickComputerMove();

				if (playerMove === "rock") {
					if (computerMove === "rock") {
						result = "Tie.";
					} else if (computerMove === "paper") {
						result = "you lose.";
					} else if (computerMove === "scissor") result = "you win.";
				} else if (playerMove === "scissor") {
					if (computerMove === "rock") {
						result = "You lose.";
					} else if (computerMove === "paper") {
						result = "You win.";
					} else if (computerMove === "scissor") result = "Tie.";
				} else {
					if (computerMove === "rock") {
						result = "You win.";
					} else if (computerMove === "paper") {
						result = "Tie.";
					} else if (computerMove === "scissor") result = "you lose.";
				}

				if (result === "You win.") {
					score.wins += 1;
				} else if (result === "You lose.") {
					score.losses += 1;
				} else {
					score.tie += 1;
				}

				localStorage.setItem("score", JSON.stringify(score));
				alert("You picked " + playerMove + ". Computer picked " + computerMove + "." + result + `\n Win : ${score.wins}.Lose : ${score.losses}.Tie : ${score.tie}`);
			}
			let computerMove = "";
			function pickComputerMove() {
				const randomnumber = Math.random();

				if (randomnumber >= 0 && randomnumber < 1 / 3) {
					computerMove = "rock";
				} else if (randomnumber >= 1 / 3 && randomnumber < 2 / 3) {
					computerMove = "paper";
				} else if (randomnumber >= 2 / 3 && randomnumber < 1) {
					computerMove = "scissor";
				}
				return computerMove;
			}
		</script>
	</body>
</html>
