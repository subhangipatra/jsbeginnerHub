<!DOCTYPE html>
<html>
	<head>
		<title>Advanced Functions</title>
	</head>
	<body>
		<button class="js-button">Start</button>
		<p><button class="js-add-cart-button">Add To Cart</button></p>
		<p class="js-input"></p>
		<button class="js-add-title-button">Add</button>
		<button class="js-remove-title-button">Remove</button>
		<p>
			<button onclick="input++;functionTitle();">Add</button>
			<button onclick="input--;functionTitle();">Remove</button>
		</p>

		<button class="js-button-click">Click</button>

		<script>
			const eventListener = () => {
				console.log("click");
			};
			document.querySelector(".js-button-click").addEventListener("click", () => {
				console.log("click");
			});
			document.querySelector(".js-button-click").removeEventListener("click", eventListener);
			document.querySelector(".js-button-click").addEventListener("click", () => {
				console.log("click2");
			});

			/*function greeting() {
										console.log("hello");
									}
									greeting();

									const num = 2;
									//anonymous function i.e function without name
									const function1 = function () {
										console.log("hello2");
									};
									console.log(function1);
									console.log(typeof function1);
									function1();

									const object1 = {
										num: 2,
										func: function () {
											console.log("hello3");
										},
									};
									object1.func();

									function display(param) {
										console.log(param);
									}
									display(2);

									//callback function
									function run(param) {
										param();
									}
									run(function () {
										console.log("hello4");
									});*/

			//Asynchronous code doesnot wait for line to finish before going to the next line of code (3000 is 3000ms here)
			//setTimeout function  and setInterval is only synchronous
			/*setTimeout(function () {
							console.log("Time out");
							console.log("time out 2");
						}, 3000);
						console.log("next line");

						setInterval(function () {
							console.log("Interval");
						}, 3000);
						console.log("next line 2");*/

			/*["make dinner", "wash dishes", "watch youtube"].forEach(function (value, index) {
										console.log(index);
										console.log(value);
									});*/

			const add = function () {
				console.log(2 + 3);
			};
			add();
			add();

			function runTwice(fun) {
				fun();
				fun();
			}

			runTwice(function () {
				console.log("12b");
			});

			runTwice(add);

			/*function updateButton() {
				document.querySelector(".js-button").innerHTML = "Loading..";
				setTimeout(function () {
					document.querySelector(".js-button").innerHTML = "Finished";
				}, 1000);
			}*/

			/*	function updateButton() {
				document.querySelector(".js-button").innerHTML = "Loading..";
				setTimeout(() => {
					document.querySelector(".js-button").innerHTML = "Finished";
				}, 1000);
			}*/

			document.querySelector(".js-button").addEventListener("click", () => {
				document.querySelector(".js-button").innerHTML = "Loading..";
				setTimeout(() => {
					document.querySelector(".js-button").innerHTML = "Finished";
				}, 1000);
			});

			/*function updateCart() {
				let timeOutId;
				document.querySelector(".js-input").innerHTML = "Added";
				clearTimeout(timeOutId);
				timeOutId = setTimeout(() => {
					document.querySelector(".js-input").innerHTML = "";
				}, 2000);
			}*/

			document.querySelector(".js-add-cart-button").addEventListener("click", () => {
				let timeOutId;
				document.querySelector(".js-input").innerHTML = "Added";
				clearTimeout(timeOutId);
				timeOutId = setTimeout(() => {
					document.querySelector(".js-input").innerHTML = "";
				}, 2000);
			});

			let input = 0;
			let intervalId;
			function functionTitle() {
				if (input === 0 || input < 0) {
					document.title = "App";
					clearInterval(intervalId);
					input = 0;
				} else if (input > 0) {
					intervalId = setInterval(() => {
						if (document.title === "App") {
							document.title = `(${input})Messages`;
						} else document.title = "App";
					}, 1000);
				}
			}

			document.querySelector(".js-add-title-button").addEventListener("click", () => {
				input++;
				if (input === 0 || input < 0) {
					document.title = "App";
					clearInterval(intervalId);
					input = 0;
				} else if (input > 0) {
					intervalId = setInterval(() => {
						if (document.title === "App") {
							document.title = `(${input})Messages`;
						} else document.title = "App";
					}, 1000);
				}
			});

			document.querySelector(".js-remove-title-button").addEventListener("click", () => {
				input--;
				if (input === 0 || input < 0) {
					document.title = "App";
					clearInterval(intervalId);
					input = 0;
				} else if (input > 0) {
					intervalId = setInterval(() => {
						if (document.title === "App") {
							document.title = `(${input})Messages`;
						} else document.title = "App";
					}, 1000);
				}
			});

			const regularFunction = function (param) {
				console.log("hello");
			};
			const arrowFunction = (param) => {
				console.log("hello");
			};
			arrowFunction();

			const oneParam = (param) => {
				console.log(param + 1);
			};
			oneParam(2);

			const oneLine = () => 2 + 3;
			console.log(oneLine());

			["make dishes", "watch youtube", "make food"].forEach((value, index) => {
				console.log(index);
				console.log(value);
			});

			const object2 = {
				method: () => {},
				method() {},
			};
			//filter function - takes 2 parameters and returns result if the condition is true
			console.log(
				[1, -3, 5].filter((value, index) => {
					return value >= 0;
				})
			);
			//map function(works like for each function)
			console.log(
				[1, 1, 3].map((value, index) => {
					return value * 2;
				})
			);

			console.log([1, 1, 3].map((value) => value * 2));

			//arrow function standard
			multiply = (a, b) => {
				return a * b;
			};
			//one line arrow function
			multiply = (a, b) => a * b;

			function countPositive(nums) {
				let count = 0;
				nums.forEach((value, index) => {
					if (value > 0) {
						count++;
					}
				});
				return count;
			}

			function addNum(array, num) {
				//let result;
				return array.map((value, index) => value + num);
			}

			function removeEgg(array) {
				return array.filter((value) => value !== "egg");
			}
			function removeFirst2Egg(array) {
				let count = 0;
				return array.filter((value) => {
					if (value !== "egg" || count >= 2) {
						return array;
					}
					if (value === "egg") count++;
				});
			}

			console.log(multiply(2, 3));
			console.log(multiply(7, 10));
			console.log(countPositive([1, -3, 5]));
			console.log(countPositive([-2, 3, -5, 7, 10]));

			console.log(addNum([1, 2, 3], 2));
			console.log(addNum([-2, -1, 0, 99], 2));
			console.log(removeEgg(["egg", "apple", "egg", "egg", "ham"]));
			console.log(removeFirst2Egg(["egg", "apple", "egg", "egg", "ham"]));
		</script>
	</body>
</html>
